;/*FB_PKG_DELIM*/

__d("XStoryChevronController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/story_chevron_menu/",{feedobjects_identifiers:{type:"String"},feed_context:{type:"String"},chevron_button_id:{type:"String"},story_node_id:{type:"String"},zombie_story:{type:"String"},is_menu_registered:{type:"Bool",defaultValue:!1},outer_story_token:{type:"String"},show_report_ad_only:{type:"Bool",defaultValue:!1},group_id:{type:"Int"}})}),null);
__d("MAsyncChevronMenu",["cx","$","MCSS","MDOM","MLegacyDataStore","MParent","MRequest","MTouchClick","ODS","Stratcom","SubscriptionsHandler","XStoryChevronController","requireWeak"],(function(a,b,c,d,e,f,g,h){var i,j=null;c("requireWeak")("MHideStoryActions",function(a){return j=a});var k,l,m,n,o,p,q,r;function s(a){a=d("MParent").bySigil(a,"story-popup-metadata");return a}function t(){(i||(i=d("ODS"))).bumpEntityKey(2966,"mtouch_async_chevron","chevron_clicked");var a=this.getCausalElement(),b=d("MLegacyDataStore").get(a),e=s(a),f=c("XStoryChevronController").getURIBuilder().setBool("is_menu_registered",!!(j&&j.getActionBubble())).setInt("group_id",r).getURI();f=new(c("MRequest"))(f);n&&c("MCSS").show(n);o&&c("MCSS").hide(o);p&&c("MCSS").hide(p);k=e;f.setMethod("POST");f.setData({feedobjects_identifiers:b.feedobjectsIdentifiers,feed_context:b.feedContext,zombie_story:b.zombieStoryURI?b.zombieStoryURI:"",story_node_id:e&&e.id,chevron_button_id:a.id,outer_story_token:b.outerStoryToken?b.outerStoryToken:"",show_report_ad_only:q});f.listen("error",function(a){(i||(i=d("ODS"))).bumpEntityKey(2966,"mtouch_async_chevron","request_failed"),n&&c("MCSS").hide(n),a=="status=0"?((i||(i=d("ODS"))).bumpEntityKey(2966,"mtouch_async_chevron","request_failed_no_internet_connection"),o&&c("MCSS").show(o),p&&c("MCSS").hide(p)):((i||(i=d("ODS"))).bumpEntityKey(2966,"mtouch_async_chevron","request_failed_server_side_error"),p&&c("MCSS").show(p),o&&c("MCSS").hide(o))});f.listen("done",function(){(i||(i=d("ODS"))).bumpEntityKey(2966,"mtouch_async_chevron","request_done")});f.send()}function u(){m&&(m.release(),m=null),l=null,n=null,o=null,p=null}function v(){if(l){var a=l.getContentRoot();n=d("MDOM").find(a,"div","loadingWrapper");o=d("MDOM").find(a,"div","noConnectionWrapper");p=d("MDOM").find(a,"div","requestErrorWrapper")}}function a(a,b,d){l&&(l.destroy(),u()),l=a,q=b,r=d,v(),m=new(c("SubscriptionsHandler"))(),m.addSubscriptions(l.addListener("beforeshow",t,l),c("Stratcom").listen("m:page:unload",null,u),c("Stratcom").listen("m:story:action-bubble-initialized",null,function(a){a=a.getData();a.menuNubID&&w(c("$")(a.menuNubID),a.wasOpen)}))}function w(a,b){if(!l||!(l.isShown()||b))return;if(!j||!j.getActionBubble())return;l.hide();b=s(a);if(k==b||y(k,b)){b=a.getElementsByClassName("_4s19")[0];d("MTouchClick").click(b)}}function x(a){if(a==null)return null;a=a.getAttribute("data-store");if(a==null||a==="")return null;a=JSON.parse(a);return a==null?null:a.feedobjectsIdentifiers}function y(a,b){a=x(a);b=x(b);return a==null||b==null?!1:a===b}function b(a,b,e,f,g){d("MDOM").replace(c("$")(b),a),g||w(a,!1)}function e(a){(!k||k.id==a)&&(l&&l.hide(),k=null)}g.init=a;g.getIdentifiers=x;g.compareIdentifiers=y;g.replaceChevronTrigger=b;g.closeLoadingFlyout=e}),98);
__d("MLayerHideOnTouch",["CancelableEventListener","TouchEventType"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=null,this.$2=a}var c=a.prototype;c.enable=function(){this.$1=[this.$2.addListener("show",this.$3.bind(this)),this.$2.addListener("hide",this.$4.bind(this))],this.$2.isShown()&&this.$3()};c.disable=function(){this.$4();while(this.$1.length)this.$1.pop().remove();this.$1=null};c.$4=function(){this.$5&&this.$5.remove(),this.$5=null};c.$3=function(){var a=this;this.$5=b("CancelableEventListener").listen(document.body,b("TouchEventType").START,null,function(b){a.$2.getContentRoot().contains(b.getTarget())||(a.$2.hide(),b.prevent())})};return a}();e.exports=a}),null);
__d("XUFIReactionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"StringOrPFBID"},reaction_type:{type:"Enum",enumType:0},reaction_id:{type:"String"},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:!1},is_comment:{type:"Bool",defaultValue:!1},is_permalink:{type:"Bool",defaultValue:!1},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:!1},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:!1},bgsync_id:{type:"String"},aftercursor:{type:"String"},tab:{type:"String"},_ft_:{type:"String"}})}),null);
__d("MReactionsFlyout",["cx","fbt","ActorURI","BanzaiLogger","CancelableEventListener","MBlockingTouchable","MCSS","MDOM","MLegacyDataStore","MLiveData","MParent","MUFIConfig","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","TouchEventType","URI","XUFIReactionController","clearTimeout","gkx","setTimeout"],(function(a,b,c,d,e,f,g,h,i){var j,k=17,l="_ft_",m={top:.3,bottom:.6},n,o=[],p=function(){function a(a){var b=this,e;this.autoHideOnScroll=function(a){a=b.flyout;if(!a||!a.isShown()){c("Stratcom").removeCurrentListener();return}var d;window.innerHeight?d=window.innerHeight:document.body&&(d=document.body.clientHeight);if(!d)return;var e=a.getContext().getBoundingClientRect().top,f=d*m.top,g=d*m.bottom;(e<f||e>g)&&a.hide()};this.onUnload=function(){b.onHide(),b.pageSubscriptions.release()};this.onClick=function(a){a=a.getNode("reaction-item");a instanceof HTMLElement&&b.select(a)};this.onScreenReaderTrigger=function(a){a=a.getTarget();if(!a)return;a=a.previousSibling;if(!a)return;b.flyout.setContext(a);b.setSupported();b.flyout.show();b.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("click","reaction-item",b.onClick));a=d("MLiveData").get(d("MLegacyDataStore").get(b.flyout.getContext()).feedbackTarget).getData();a=a.viewerreactionid;var e=null;for(var f=0,g=b.reactionElements.length;f<g;f++){var h=d("MLegacyDataStore").get(b.reactionElements[f]);h=h.reaction_id;a===h&&(e=b.reactionElements[f])}e||(e=b.reactionElements[0]);e.focus()};this.onClickTrigger=function(a){a=a.getTarget();if(!(a instanceof HTMLElement))return;var e=b.flyout;if(e.isShown()){e.hide();return}c("Stratcom").hasSigil(a,"like-reaction-flyout")||(a=d("MParent").bySigil(a,"like-reaction-flyout"));a&&b.setupFlyout(e,a)};this.onClickCapture=function(a){var c=b.flyout;if(c){var e=d("MLegacyDataStore").get(c.getContext());e=e.kaiOSReactions;if(e&&c.isShown()){c.hide();return}}a.stop()};this.onTouchStart=function(a){var e=b.flyout;if(!e.isShown()){var f=document;f=f.body;f&&c("MCSS").addClass(f,"_70ol");b.touchStartX=a.getTouch().clientX;b.timing.touchStartTime=Date.now();b.preventScrollTimeout=c("setTimeout")(function(){b.canScroll=!1},200);b.longpressTimeout=c("setTimeout")(function(){b.timing.shownTime=Date.now();var f=a.getTarget();if(!(f instanceof HTMLElement))return;c("Stratcom").hasSigil(f,"like-reaction-flyout")||(f=d("MParent").bySigil(f,"like-reaction-flyout"));f&&b.setupFlyout(e,f)},300)}};this.onTouchMove=function(a){var c=b.flyout,e=c.getContext()&&d("MLegacyDataStore").get(c.getContext()).isComment;b.canScroll||(e?a.kill():a.prevent());if(!c.isShown())return;a=a.getTouch();var f=a.clientX;a=a.clientY;a=document.elementFromPoint(f,a);if(a){var g=a.nodeName==="I"||a.nodeName==="IMG";if(!(g||b.canScrub)){b.canScrub=Math.abs(b.touchStartX-f)>=25;return}c.getContentRoot().setAttribute("data-longpress",!0);if(c.getContentRoot().contains(a)){if(g){a=(f=a)!=null?(f=f.parentNode)!=null?f.parentNode:f:f}b.active!==a&&d("MLegacyDataStore").get(a).reaction&&(b.isUpdatedDock||e?b.showOverlay(b.overlay&&b.overlay.slide):b.showOverlay(b.overlay&&b.overlay.dots),b.removeActive(),b.active=a,a&&a.setAttribute("data-active","true"))}else(!b.overlay||!b.overlay.container.contains(a))&&(b.removeActive(),b.showOverlay(b.overlay&&b.overlay.release))}};this.onTouchEnd=function(a){var c=b.active;if(c)b.log({finalReaction:d("MLegacyDataStore").get(c).reaction,viaScrubbing:!0}),b.select(c);else{c=a.getTouch();a=c.clientX;c=c.clientY;a=document.elementFromPoint(a,c);c=b.flyout;a&&!(c.getContentRoot().contains(a)||c.getContext().contains(a)||b.overlay&&b.overlay.container.contains(a))&&c.hide()}};this.onWindowClick=function(a){var c;a=a.getNode("reaction-item");a&&(c=d("MLegacyDataStore").get(a).reaction);b.log({finalReaction:c,viaScrubbing:!1})};this.onWindowTouchEnd=function(){var a=b.flyout;a.isShown()?(b.timing.touchEndTime=Date.now(),a.getContentRoot().removeAttribute("data-longpress")):(b.canScroll=!0,c("clearTimeout")(b.longpressTimeout),c("clearTimeout")(b.preventScrollTimeout))};this.onHide=function(){var a=document;a=a.body;a&&c("MCSS").addClass(a,"_70ol");b.canScroll=!0;b.canScrub=!1;b.removeActive();b.removeUFIOverlay();b.flyout.hide();b.flyoutSubscriptions.release();b.flyoutSubscriptions=new(c("SubscriptionsHandler"))()};this.onWindowTouchMove=function(){b.flyout.isShown()||(b.canScroll=!0,c("clearTimeout")(b.longpressTimeout),c("clearTimeout")(b.preventScrollTimeout))};this.flyout=a;this.active=null;this.canScroll=!0;this.canScrub=!1;this.preventScrollTimeout=null;this.longpressTimeout=null;this.nuxTooltip=null;this.overlay=null;this.timing={touchStartTime:null,touchEndTime:null,shownTime:null};this.touchStartX=0;this.isUpdatedDock=c("MUFIConfig").hasUpdatedDock;this.pageSubscriptions=new(c("SubscriptionsHandler"))();this.flyoutSubscriptions=new(c("SubscriptionsHandler"))();this.assignFlyoutContent();this.pageSubscriptions.addSubscriptions(a.addListener("hide",this.onHide),(e=c("Stratcom")).listen("m:page:unload",null,this.onUnload),e.listen("m:viewport:orientation-change",null,this.onHide),e.listen(c("TouchEventType").END,null,this.onWindowTouchEnd),e.listen("click","screenreader-reactions-trigger",this.onScreenReaderTrigger),d("CancelableEventListener").listen(a.getContentRoot(),"touchmove","reaction-item",this.onTouchMove));o.forEach(function(a){return b.addAnchor(a)});n&&this.setNUXTooltip(n);c("MUFIConfig").hasIEMobileFixes?this.pageSubscriptions.addSubscriptions(c("Stratcom").listen("touchcancel",null,this.onWindowTouchEnd)):this.pageSubscriptions.addSubscriptions(c("Stratcom").listen("touchmove",null,this.onWindowTouchMove))}var b=a.prototype;b.addAnchor=function(a){var b=c("Stratcom").hasSigil(a,"kaios-like-react-trigger");b?this.pageSubscriptions.addSubscriptions(d("CancelableEventListener").listen(a,"click",null,this.onClickTrigger)):this.pageSubscriptions.addSubscriptions(d("CancelableEventListener").listen(a,c("TouchEventType").START,null,this.onTouchStart));c("MUFIConfig").hasIEMobileFixes||this.pageSubscriptions.addSubscriptions(d("CancelableEventListener").listen(a,"touchmove","like-reaction-flyout",this.onTouchMove),d("CancelableEventListener").listen(a,"touchmove","reaction-item",this.onTouchMove))};b.assignFlyoutContent=function(){(!this.reactionElements||this.reactionElements.length===0)&&(this.reactionElements=document.getElementsByClassName("_1-kd"),Array.prototype.forEach.call(this.reactionElements,function(a){return d("MBlockingTouchable").init(a)}))};b.setupFlyout=function(a,b){var e=d("MLegacyDataStore").get(b);a.setContext(b);this.setSupported();b=this.nuxTooltip;b&&b.hide();b=a.getContentRoot();b=d("MParent").bySigil(b,"m-layer-root");b&&(this.isUpdatedDock&&!e.isComment&&(this.applyMultilineFlyout(),c("MCSS").addClass(b,"_5xt_")),e.isComment&&c("MCSS").addClass(b,"_31rl"));a.show();b=d("MLegacyDataStore").get(a.getContext());a=b.kaiOSReactions;a||this.createUFIOverlay();this.isUpdatedDock||e.isComment?this.showOverlay(this.overlay&&this.overlay.tap):this.showOverlay(this.overlay&&this.overlay.dots);this.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("click","reaction-item",this.onClick),c("Stratcom").listenCapture("click","like-reaction-flyout",this.onClickCapture),c("Stratcom").listenCapture("click",null,this.onWindowClick));a&&this.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("scroll",null,this.autoHideOnScroll));c("MUFIConfig").hasIEMobileFixes||this.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("touchend","like-reaction-flyout",this.onTouchEnd),c("Stratcom").listen("touchend","reaction-item",this.onTouchEnd))};b.select=function(a){var b=this.flyout;b.hide();if(!a)return;a=d("MLegacyDataStore").get(a);var e=a.reaction;a=a.reaction_id;b=b.getContext();var f=d("MLegacyDataStore").get(b),g=f.feedbackTarget;f=f.isComment;var h=d("MLiveData").get(g).getData();if(h.viewerreactionid===a)return;if(f){f=b.getAttribute("data-uri")||b.getAttribute("href");f=d("MUFIRequest").getURI(f);f.addQueryData("reaction_comment_id",d("MUFIReactionsUtils").maybeConvertTokenToFBID(g));f.addQueryData("viewer_reaction",e);f.addQueryData("viewer_reaction_id",a);d("MUFIRequest").send(g,d("MUFIReactionsUtils").getReactionDataForComment(h,e,a),f)}else{f=h.actor_for_post;f!==0&&!f&&(f=null);var i=d("MParent").bySigil(b,"story-div"),k=null;if(i){i=d("MLegacyDataStore").get(i).linkdata;if(i&&c("gkx")("20884")){var m;k=(m={},m[l]=i,m)}}m=babelHelpers["extends"]((i={},i[d("ActorURI").PARAMETER_ACTOR]=f,i.ft_ent_identifier=g,i.reaction_type=e,i.reaction_id=a,i.feedback_source=new(j||(j=c("URI")))(b.getAttribute("data-uri")).getQueryData().feedback_source,i),k);d("MUFIRequest").send(g,d("MUFIReactionsUtils").getReactionData(h,e,a),c("XUFIReactionController").getURIBuilder().getURI(),m,d("MUFIReactionsUtils").getConfigForBackgroundRetry(g))}};b.removeActive=function(){var a=this.active;if(a){this.active=null;a.removeAttribute("data-active");a=a.parentElement;a&&a.classList.remove("mReactionInAnimation")}};b.applyMultilineFlyout=function(){var a=this.flyout,b=a.getContext();b=d("MParent").bySigil(b,"mufi-inline");a=a.getContentRoot();b=d("MDOM").scry(b,"div","reactions-bling-bar");if(b.length==0){c("MCSS").addClass(a,"_5xu1");return}b=b[0].getBoundingClientRect().height;b>k?c("MCSS").addClass(a,"_5xu0"):b<k?c("MCSS").addClass(a,"_5xu1"):(c("MCSS").removeClass(a,"_5xu0"),c("MCSS").removeClass(a,"_5xu1"))};b.showOverlay=function(a){var b=this.overlay;if(b&&a){c("MCSS").show(a);for(var d in b){var e=b[d];e!=a&&e!=b.container&&c("MCSS").hide(e)}}};b.log=function(a){var b=d("MLiveData").get(d("MLegacyDataStore").get(this.flyout.getContext()).feedbackTarget).getData(),e=b.ft_ent_identifier;b=b.viewerreaction;var f=this.timing,g=f.touchEndTime,h=f.touchStartTime;f=f.shownTime;if(!g||!h||!f)return;g=g-h;c("BanzaiLogger").log("UserReactionsLoggerConfig",{feedback_id:e,final_reaction:a.finalReaction||b,initial_reaction:b,"interface":"mTouch",long_press_duration:g>0?g:0,time_spent:Date.now()-f,via_scrubbing:a.viaScrubbing})};b.createUFIOverlay=function(){var a=this.flyout.getContext(),b=d("MLegacyDataStore").get(a),e=b.feedbackTarget;b=b.isComment;e=(e=d("MLiveData").get(e).getData().supportedreactions)!=null?e:this.getSupportedReactions();var f=document.createElement("div");f.style.display="none";f.className="_403o";e=Math.round(e.length*1.3);for(var g=0;g<e;++g){var h=document.createElement("div");h.className="_403p";f.appendChild(h).className="_403p"}h=document.createElement("div");h.style.display="none";h.className="_5xu2";h.textContent=i._("Nh\u1ea5n \u0111\u1ec3 ch\u1ecdn c\u1ea3m x\u00fac").toString();g=document.createElement("div");g.style.display="none";g.className="_5xu2";g.textContent=i._("Tr\u01b0\u1ee3t ng\u00f3n tay \u0111\u1ec3 ch\u1ecdn").toString();e=document.createElement("div");e.style.display="none";e.className="_5xu2";e.textContent=i._("Bu\u00f4ng ra \u0111\u1ec3 h\u1ee7y").toString();var j=document.createElement("div");j.className="_403n";b&&c("MCSS").addClass(j,"_31ru");j.appendChild(f);j.appendChild(e);(this.isUpdatedDock||b)&&(j.appendChild(h),j.appendChild(g));b=d("MParent").bySigil(a,"ufi-inline-actions");b||(b=d("MParent").bySigil(a,"ufi-inline-comment-actions"));b?(b.insertBefore(j,b.firstChild),this.overlay={container:j,tap:h,slide:g,release:e,dots:f}):this.overlay=null};b.removeUFIOverlay=function(){var a=this.overlay;if(a){a=a.container;a.parentNode&&a.parentNode.removeChild(a);this.overlay=null}};b.getSupportedReactions=function(){return[1,2,4,3,7,8,16]};b.setSupported=function(){var a,b=d("MLegacyDataStore").get(this.flyout.getContext());a=(a=d("MLiveData").get(b.feedbackTarget).getData().supportedreactions)!=null?a:this.getSupportedReactions();b=(b=d("MLiveData").get(b.feedbackTarget).getData().supportedreaction_ids)!=null?b:[];var e=this.reactionElements;for(var f=0,g=e.length;f<g;++f){var h=e[f],i=d("MLegacyDataStore").get(h),j=i.reaction;i=i.reaction_id;c("MCSS").conditionShow(h,j===17?b.indexOf(i)>=0:a.indexOf(j)>=0)}};b.setNUXTooltip=function(a){this.nuxTooltip=a};return a}(),q;function a(a){q=new p(a)}function b(a){if(q){q.addAnchor(a);return}o.push(a)}function e(a){n=a,q&&q.setNUXTooltip(a)}g.init=a;g.addAnchor=b;g.initNUX=e}),226);
__d("MUFIComposerFocus",["MDOM","MLegacyDataStore","MParent","Parent","Stratcom"],(function(a,b,c,d,e,f,g){"use strict";var h="mufi-composer-focus",i;function j(a){a=a;var b=a.parentNode,c=[];while(b)c.unshift(a),a=b,b=a.parentNode;return c}function k(a,b){var c=Math.min(a.length,b.length)-1;for(c=c;c>=0;c--)if(a[c]===b[c])return c;return-1}function l(a){if(!a)return null;var b=d("MParent").bySigil(a,"story-div")||d("MParent").bySigil(a,"snowflake-root")||d("MParent").bySigil(a,"notes-root");if(!b)return null;b=d("MDOM").scry(b,"*","mufi-composer").filter(function(a){return!d("MParent").bySigil(a,"m-inline-reply-composer")});if(b.length===1)return b[0];var c=j(a);a=b.reduce(function(a,b,d){d=j(b);d=k(c,d);return d>=a[0]?[d,b]:a},[-1,null]);return a[1]}function m(a){var b=a.getNode(h);if(!(b instanceof HTMLElement))return;b=l(b);b&&(a.prevent(),b.focus())}function a(a){if(!a||!i)return!1;a=c("Stratcom").hasSigil(a,h)?a:d("MParent").bySigil(a,h);return!!l(a)}function n(a){a=a.getNode(h);if(!(a instanceof HTMLElement))return;var b=l(a);if(b){var c=d("MParent").bySigil(a,"touchable");c&&(d("MLegacyDataStore").get(c).nativeClick=!0);c=d("Parent").byTag(a,"a");c instanceof HTMLAnchorElement&&(c.href="#"+d("MDOM").uniqID(b))}}function b(){i||(c("Stratcom").listen("touchstart",h,n),c("Stratcom").listen("click",h,m),i=!0)}e=function(){return i};g.isComposerFocusTrigger=a;g.init=b;g.isInitialized=e}),98);
__d("MUFILikeButton",["cx","ActorURI","FBLogger","MCSS","MEvent","MLegacyDataStore","MLiveData","MParent","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","emptyFunction"],(function(a,b,c,d,e,f,g,h){var i={is_like:1},j={is_like:0};a=function(){function a(a,b,e,f){var g=this;this.onKeyPress=function(a){(a.code==="Enter"||a.code==="Space")&&g.onClick(a)};this.onMouseUp=function(a){a.srcElement instanceof HTMLElement&&a.srcElement.blur()};this.onUnload=function(){g.$3.release(),g.$3=null};this.$1=a;this.$2=d("MLiveData").get(b);this.$4=b;this.$5=e||{log:c("emptyFunction")};this.$6=f;this.$7=d("MUFIReactionsUtils").getConfigForBackgroundRetry(b);this.$3=new(c("SubscriptionsHandler"))();this.$3.addSubscriptions(c("MEvent").listen(this.$1,"click",this.onClick.bind(this)),c("MEvent").listen(this.$1,"keypress",this.onKeyPress.bind(this)),c("MEvent").listen(this.$1,"mouseup",this.onMouseUp.bind(this)),this.$2.listen("change",this.onChange.bind(this)),c("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)))}var b=a.prototype;b.onChange=function(){var a=this.$2.getData();if(a.request_id===this.$6)return;a=a.has_viewer_liked;c("MCSS").conditionClass(this.$1,"_77la",a);c("Stratcom").removeSigil(this.$1,a?"like":"unlike");c("Stratcom").addSigil(this.$1,a?"unlike":"like")};b.getFeedbackData=function(){var a=this.$2.getData(),b=a.has_viewer_liked,c=b?a.like_count-1:a.like_count+1,d=a.reduced_like_count;isNaN(d)||(d=c.toString());return{has_viewer_liked:!b,like_count:c,like_counts:[a.like_counts[1]||null,a.like_counts[0]],like_friend_sentences:[a.like_friend_sentences[1]||null,a.like_friend_sentences[0]],like_sentences:[a.like_sentences[1]||null,a.like_sentences[0]],reduced_like_count:d}};b.getRequestData=function(){return null};b.onClick=function(a){a.preventDefault();a=a.target;if(!a||!(a instanceof Element))return;a=d("MUFIRequest").getURI(a.getAttribute("href")||a.getAttribute("data-uri"));this.$2.getData().has_viewer_liked?(a.addQueryData("ul",!0),a.removeQueryData("reaction_type")):a.removeQueryData(["ul","reaction_type"]);var b=d("MParent").bySigil(this.$1,"feed-ufi-metadata");if(b){b=d("MLegacyDataStore").get(b).actor_id;b&&(a=d("ActorURI").create(a,String(b)))}else c("FBLogger")("mobile_web_ufi","feed_ufi_metadata_missing").warn("Actor ID data store not available. Making request without actor id.");d("MUFIRequest").send(this.$4,this.getFeedbackData(),a,this.getRequestData(),this.$7);this.$5.log("like",void 0,this.$2.getData().has_viewer_liked?j:i)};return a}();g["default"]=a}),98);
__d("MUFIReactionButton",["cx","fbt","MCSS","MDOM","MLiveData","MUFILikeButton","MUFIReactionsUtils","Stratcom","Style","UFIReactionIcons","UFIReactionTypes","createIxElement"],(function(a,b,c,d,e,f,g,h,i){var j=1,k="1635855486666999",l=0,m=17,n=16;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,h,i){h=a.call(this,b,c,e,f)||this;h.$MUFIReactionButton$p_1=b;h.$MUFIReactionButton$p_2=d("MLiveData").get(c);h.$MUFIReactionButton$p_3=c;h.$MUFIReactionButton$p_4=f;h.$MUFIReactionButton$p_5=g||n;b.href&&b.setAttribute("data-uri",b.href);b.removeAttribute("href");return h}var e=b.prototype;e.onChange=function(){var a=this.$MUFIReactionButton$p_2.getData();if(a.request_id===this.$MUFIReactionButton$p_4)return;var b,e,f=a.viewerreaction,g=a.viewerreactionid,h=!!f;f&&!c("UFIReactionTypes").reactions[f]&&(f=null);if(!g||!f)b="inherit",e=i._("Th\u00edch");else{var k=null;a=a.ufireactioniconsbyid;if(f!==j){var l=null;f===m?l=a[g][this.$MUFIReactionButton$p_5]:l=c("UFIReactionIcons")[f][this.$MUFIReactionButton$p_5];l||(f===m?l=a[g][n]:l=c("UFIReactionIcons")[f][n]);k=c("createIxElement")(l);c("MCSS").addClass(k,"_4h-b")}b=c("UFIReactionTypes").reactions[f].color;a=c("UFIReactionTypes").reactions[f].display_name;e=[k,a]}d("MDOM").setContent(this.$MUFIReactionButton$p_1,e);this.$MUFIReactionButton$p_1.setAttribute("aria-pressed",h);c("MCSS").conditionClass(this.$MUFIReactionButton$p_1,"_77ld",h&&f!==j);c("MCSS").conditionClass(this.$MUFIReactionButton$p_1,"_77la",h&&f===j);c("Style").set(this.$MUFIReactionButton$p_1,"color",b);c("Stratcom").removeSigil(this.$MUFIReactionButton$p_1,h?"like":"unlike");c("Stratcom").addSigil(this.$MUFIReactionButton$p_1,h?"unlike":"like");c("Stratcom").invoke("ufi/reactionButtonClicked",null,this.getRequestData())};e.getFeedbackData=function(){var a=this.$MUFIReactionButton$p_2.getData();return d("MUFIReactionsUtils").getReactionData(a,a.has_viewer_liked||a.viewerreaction?l:j,a.has_viewer_liked||a.viewerreaction?null:k)};e.getRequestData=function(){var a=this.$MUFIReactionButton$p_2.getData(),b=a.has_viewer_liked||a.viewerreaction;return{reaction_type:b?l:j,ft_ent_identifier:a.ft_ent_identifier}};e.onClick=function(b){if(c("Stratcom").hasSigil(this.$MUFIReactionButton$p_1,"kaios-like-react-trigger")){var d=this.$MUFIReactionButton$p_2.getData();d.viewerreaction&&b.stopPropagation()}a.prototype.onClick.call(this,b)};return b}(c("MUFILikeButton"));g["default"]=a}),226);