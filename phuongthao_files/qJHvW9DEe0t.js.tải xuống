;/*FB_PKG_DELIM*/

__d("AbstractCommentLiveTypingXHRController",["destroyOnUnload","err"],(function(a,b,c,d,e,f){"use strict";var g={START:"start",STOP:"stop"},h=10*1e3;a=function(){function a(a,c,d,e){e===void 0&&(e=null),this.$5=a,this.$6=c,this.$7=d,this.$1=e,this.$2=!1,this.$3=0,this.$4=null,b("destroyOnUnload")(this.destroy.bind(this))}var c=a.prototype;c.destroy=function(){this.$1&&this.$1.destroy(),this.$1=null,this.$2=!1,this.$3=0,this.$4=null};c.bootloadPublisherModule=function(a){throw b("err")("bootloadPublisherModule not implemented, should be overridden by subclass")};c.$8=function(a){a=new a(this.$5,this.$6,this.$7);var b=Date.now(),c=this.$3;if(c&&c+h>=b){c=this.$4;c===g.START?a.handleStartEvent():c===g.STOP&&a.handleStopEvent()}this.$1=a};c.$9=function(){if(this.$2||!this.$5)return;this.$2=!0;this.bootloadPublisherModule(this.$8.bind(this))};c.attemptPublishStartEvent=function(){this.$4=g.START,this.$3=Date.now(),this.$1?this.$1.handleStartEvent():this.$2||this.$9()};c.attemptPublishStopEvent=function(){this.$4=g.STOP,this.$3=Date.now(),this.$1?this.$1.handleStopEvent():this.$2||this.$9()};return a}();f["default"]=a}),66);
__d("XAppGrowthCtaLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mobile/android/redirect/cta_logging/",{event:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MAppGrowthCtaLogging",["BanzaiLogger","Stratcom","XAppGrowthCtaLoggingController","XAsyncRequest","goURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("Stratcom").listen("click",a,function(a){var b=a.getTarget().getAttribute("data-disabled");a.getTarget().setAttribute("data-disabled","1");var d=a.getTarget().getAttribute("href");if(b!="1"){b=a.getTarget().getAttribute("data-event");b=c("XAppGrowthCtaLoggingController").getURIBuilder().setEnum("event",b).getURI();var e=function(b){a.getTarget().setAttribute("data-disabled","")};new(c("XAsyncRequest"))(b).setMethod("POST").setHandler(e).send()}b=d.startsWith("#!")?d.substring(2):d;c("goURI")(b)})}function b(a,b,d,e,f){c("Stratcom").listen("click",a,function(a){c("BanzaiLogger").log("MsiteUpsellPromosRealTimeLoggerConfig",{event:"clicked",upsell:b,impression:d});e!==""&&c("goURI")(e);a=a.getTarget().getAttribute("href");a=a.startsWith("#!")?a.substring(2):a;c("goURI")(a)})}g.init=a;g.logToPromoFunnelLogger=b}),98);
__d("MComposerLiveTypingController",["AbstractCommentLiveTypingXHRController","Bootloader"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){return a.call(this,b,c,d)||this}var d=b.prototype;d.bootloadPublisherModule=function(a){c("Bootloader").loadModules(["MComposerLiveTypingPublisher"],a,"MComposerLiveTypingController")};d.attemptPublishStartEvent=function(){a.prototype.attemptPublishStartEvent.call(this)};d.attemptPublishStopEvent=function(){a.prototype.attemptPublishStopEvent.call(this)};return b}(c("AbstractCommentLiveTypingXHRController"));g["default"]=a}),98);
__d("MMultiPhotoUploaderAttachmentState",[],(function(a,b,c,d,e,f){var g={SENDING:"sending",POLLING_TAG_SUGGESTIONS:"polling",UPLOADED:"uploaded",ERROR:"error"};g.getDefaultState=function(){var a={};for(var b in g){if(!Object.prototype.hasOwnProperty.call(g,b)||typeof g[b]!=="string")continue;a[g[b]]=0}return a};e.exports=g}),null);
__d("MCommentComposer",["cx","ChannelClientID","ClientIDs","MCSS","MComposerConfig","MComposerLiveTypingController","MDOM","MLegacyDataStore","MMultiPhotoUploaderAttachmentState","MParent","MUFIInlineRepliesFunnelLogConfig","MViewport","Stratcom","StratcomManager","SubscriptionsHandler","TouchEventType","cancelAnimationFrame","debounceCore","ge","getActiveElement","requestAnimationFrame","setTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){var i="m-ufi",j="feed-ufi",k="scroll-area",l="m-composer",m="m-photo-composer",n="m-inline-reply-composer",o="m-noninline-composer",p="textarea",q="privacy-selector",r="composer-submit",s="inline-reply",t="comment",u=100,v=!1;function w(){return!!c("MComposerConfig").PUBLISH_LIVE}function x(a){if(a.tagName==="FORM")return a;else return d("MDOM").find(a,"form")}a=function(){function a(a,b){var e=this;this.destroy=function(){e.$7.release(),e.$19(),e.$15&&e.$15.destroy(),e.$15=null,e.$3&&e.$3.destroy(),e.$3=null};this.$26=function(a){a=a.getNode(l);if(a==null||!e.$43(a))return;var b=d("MDOM").find(a,"*",p);e.$22(a);d("MLegacyDataStore").get(a).disable_auto_scroll||d("MViewport").scrollToNode(b)};this.$27=function(a){a=a.getNode(l);if(!a||!e.$43(a))return;c("MCSS").removeClass(a,"composerClosed")};this.$24=function(a){var b=a.getNode(p);if(!(b instanceof HTMLInputElement||b instanceof HTMLTextAreaElement)||!e.$43(b))return;b=b.value;var c=e.$4;b!==c&&(b&&b.trim().length?e.$44():e.$38());e.$10(a);e.$4=b};this.$28=function(a){a=a.getData();var b=c("ge")(a.input_id);if(!b)return;b=d("MParent").bySigil(b,m);if(!b)return;b=d("MDOM").find(b,"*",l);if(!e.$43(b))return;e.$12=a;e.$20(b);e.$22(b)};this.$29=function(a){a=a.getNode(l);if(!e.$43(a))return;e.$9||e.$22(a);e.$9=!1};this.$30=function(a){a=a.getNode(l);if(!e.$43(a))return;e.$20(a);e.$22(a);e.$23(a);e.$38()};this.$37=function(a){a=a.getTarget();if(!a||!e.$43(a))return;var b=d("MDOM").scry(a,"input","mcomposer-client-id");b.length?b[0].setAttribute("value",d("ClientIDs").getNewClientID()):(b=d("MDOM").create("input",{name:"client_id",sigil:"mcomposer-client-id",type:"hidden",value:d("ClientIDs").getNewClientID()}),a.appendChild(b));b=d("MDOM").scry(a,"input","mcomposer-session-id");b.length||(b=d("MDOM").create("input",{name:"session_id",sigil:"mcomposer-session-id",type:"hidden",value:d("ChannelClientID").getID()}),a.appendChild(b));w()&&e.$38();e.$45()};this.$42=function(a){a=a.getData().textInput;if(!e.$43(a))return;e.$45()};this.$31=function(a){var b=a.getNode(r);if(b==null)return;var c=d("MLegacyDataStore").get(b);if(b instanceof HTMLElement&&!c.onclickIsSet){a=a.getNode(l);if(!a||!e.$43(a))return;var f=d("MDOM").find(a,"*",p);b.onclick=function(){f.blur()};c.onclickIsSet=!0}};this.$36=function(a){a=a.getData().element;if(!a||!d("MDOM").contains(a,e.$1))return;a=d("MDOM").find(e.$1,"*",l);var b=d("MDOM").find(a,"*",p);a=d("MDOM").scry(a,"*","m-mentions-root")[0];a=a&&d("MLegacyDataStore").get(a);a=a||{};a=a.mentionsInstance;var c=a&&a.getIgnoreFocusChange();a&&a.setIgnoreFocusChange(!0);b.blur();a&&a.setIgnoreFocusChange(c)};this.$32=function(a){a=a.getNode(l);if(!e.$43(a))return;a=d("MDOM").find(a,"*",p);e.$15&&e.$15.logSubmit(a.value.length,e.$12[c("MMultiPhotoUploaderAttachmentState").UPLOADED],a.form);c("Stratcom").invoke("marauder-feedback-posted",null,{});e.$38()};this.$35=function(a){a=a.getNode(i);if(!a||!d("MDOM").contains(a,e.$1))return;a=d("MDOM").find(e.$1,"*",l);a=d("MDOM").find(a,"*",p);a.focus()};this.$33=function(a){a=a.getData();a=a.target_id;e.$13&&a!==e.$2.target_id&&e.destroy()};this.$34=function(a){var b=c("getActiveElement")();if(b&&c("Stratcom").hasSigil(b,"textarea")&&e.$43(b)&&d("MParent").bySigil(b,m)){e.$9=!0;b.blur();e.$9=!1;e.$19();a=function(){e.$19();b.blur();var a=d("MDOM").scry(e.$1,"*",l)[0];a&&e.$22(a)};var f=new(c("SubscriptionsHandler"))();f.addSubscriptions(c("Stratcom").listen("focus",null,a.bind(e)),c("Stratcom").listen(c("TouchEventType").START,null,a.bind(e)));e.$8=f}};this.$39=function(a){a=a.getData();a=a.input;a=e.$46(a);if(!a)return;e.$15&&e.$15.logInitPhoto()};this.$41=function(a){a=a.getData();var b=a.ufi;a=a.logKeys;if(!b||!a||!d("MDOM").contains(b,e.$1))return;a.forEach(function(a){return e.$15&&e.$15.logRender(a)})};this.$40=function(a){a=a.getData();var b=a.commentNode;a=a.loggingInteractionKey;if(!b||!a)return;var f=c("Stratcom").hasSigil(b,s),g=null;if(e.$14&&f){var h=d("MParent").bySigil(b.parentNode,t);g=h&&d("MDOM").scry(h,"*",n)[0]}else if(!f&&!e.$14){g=d("MParent").bySigil(b,m);if(!g&&e.$13){h=d("MParent").bySigil(b,j);g=d("MDOM").scry(h,"*",o)[0]}}else return;f=g&&d("MDOM").scry(g,"*",l)[0];if(!e.$43(f))return;e.$15&&e.$15.logRender(a)};this.$38=function(){if(!w())return;e.$47();e.$3&&e.$3.attemptPublishStopEvent()};this.$25=function(){e.$2.should_focus&&e.$2.input_id?c("setTimeoutAcrossTransitions")(function(){c("ge")(e.$2.input_id).focus(),e.$2.is_comments_permalink?d("MViewport").scrollToTop():c("ge")(e.$2.composer_id).scrollIntoView()},0):e.$2.should_anchor&&e.$2.composer_id?c("ge")(e.$2.composer_id).scrollIntoView():e.$2.should_anchor_reactions||d("MViewport").scrollToTop(),e.$16&&e.$16.remove()};this.$1=a;this.$2=b||{};this.$3=null;this.$4=null;this.$5=!!this.$2.toggle_submit;this.$10=this.$17();this.$12=c("MMultiPhotoUploaderAttachmentState").getDefaultState();this.$13=!!d("MParent").bySigil(a,j);this.$14=!!(this.$2.is_inline_reply&&d("MParent").bySigil(this.$1,n));this.$15=null;this.$2.log_comment&&c("MComposerConfig").MComposerLoggingController&&(this.$15=new(c("MComposerConfig").MComposerLoggingController)());this.$8=null;this.$9=!1;this.$7=new(c("SubscriptionsHandler"))();this.$18();c("Stratcom").invoke("marauder-fb-composer-init",null,{parent_fbid:"target_id"in this.$2?this.$2.target_id:-1})}var b=a.prototype;b.$19=function(){this.$8&&this.$8.release(),this.$8=null};b.$20=function(a){var b=this;if(!this.$5||!a)return;this.$6&&c("cancelAnimationFrame")(this.$6);this.$6=c("requestAnimationFrame")(function(){b.$6=null;var e=d("MDOM").find(a,"*",r),f=b.$12[c("MMultiPhotoUploaderAttachmentState").SENDING]===0&&(!/^\s*$/.test(d("MDOM").find(a,"*",p).value)||b.$12[c("MMultiPhotoUploaderAttachmentState").UPLOADED]>0);!f?e.setAttribute("disabled",!0):e.removeAttribute("disabled");c("MCSS").conditionClass(e,"_56bt",!f);c("MCSS").conditionClass(e,"_56bv",f);c("MCSS").conditionClass(e,"_653w",f)})};b.$21=function(a){var b=this;a===this.$2.composer_id&&(this.$11=!0,c("setTimeout")(function(){b.$11=!1},u))};b.$22=function(a){var b=x(a);if(!a||!d("MLegacyDataStore").get(a).auto_collapse||!b||!d("MLegacyDataStore").get(b).expand_composer)return;b=d("MDOM").find(a,"*",p);b=c("getActiveElement")()===b||!/^\s*$/.test(b.value)||this.$12[c("MMultiPhotoUploaderAttachmentState").UPLOADED]>0;if(!b&&this.$11)return;c("MCSS").conditionClass(a,"composerClosed",!b)};b.$23=function(a){var b=d("MDOM").find(a,"*","m-comment-conversation-guide-session-id");b&&(b.value="");b=d("MDOM").find(a,"*","m-comment-conversation-guide-shown");b&&(b.value="none")};b.$18=function(){var a=this,b=w()?this.$24.bind(this):this.$10.bind(this);this.$2.isPageletified?this.$25():(this.$16=c("Stratcom").listen(["m:page:render:complete","m:schedulable:loaded"],null,this.$25.bind(this)),this.$7.addSubscriptions(this.$16));this.$7.addSubscriptions(c("Stratcom").listen("MCommentComposer:replyButtonClick",null,function(b){return a.$21(b.getData().composerID)}),c("Stratcom").listen("MCommentComposer:conversationGuideItemClick",null,function(b){return a.$21(b.getData().composerID)}),c("Stratcom").listen("focus",[l,p],this.$26.bind(this)),c("Stratcom").listen("focus",[l,q],this.$27.bind(this)),c("Stratcom").listen("keyup",[l,p],b),c("Stratcom").listen("input",[l,p],b),c("Stratcom").listen("paste",[l,p],b),c("Stratcom").listen("MMultiPhotoUploader:attachments:change",null,this.$28.bind(this)),c("Stratcom").listen("blur",[l,p],this.$29.bind(this)),c("Stratcom").listen("reset",[l],this.$30.bind(this)),c("Stratcom").listen("touchend",[l,r],this.$31.bind(this)),c("Stratcom").listen("click",r,this.$32.bind(this)),c("Stratcom").listen("m:page:unload",null,this.destroy.bind(this)),c("Stratcom").listen("m:feed-ufi-flyout:reset",null,this.$33.bind(this)),this.$10);c("MComposerConfig").CAN_TOUCH_PHOTO_INPUT_WHILE_EXPANDED&&this.$7.addSubscriptions(c("Stratcom").listen("MMultiPhotoUploader:input:click",null,this.$34.bind(this)));this.$14||this.$7.addSubscriptions(c("Stratcom").listen("click","m-add-comment",this.$35.bind(this)));this.$13&&d("MParent").bySigil(this.$1,k)&&this.$7.addSubscriptions(c("Stratcom").listen("MScrollArea:scrollstart",null,this.$36.bind(this)));v||(v=!0,d("StratcomManager").enableDispatch(window,"reset"));this.$7.addSubscriptions(c("Stratcom").listen("submit",l,this.$37.bind(this)));w()&&this.$7.addSubscriptions(c("Stratcom").listen("m:feed-ufi:hide",null,this.$38.bind(this)));this.$15&&(this.$7.addSubscriptions(c("Stratcom").listen("MMultiPhotoUploader:input:change",null,this.$39.bind(this)),c("Stratcom").listen("m:ufi:iui:comment-added",null,this.$40.bind(this))),this.$14||this.$7.addSubscriptions(c("Stratcom").listen("m:ufi:live-comments:render",null,this.$41.bind(this))));this.$2.is_inline_reply&&c("MUFIInlineRepliesFunnelLogConfig").MUFIInlineReplyComposerFunnelLogger&&this.$7.addSubscriptions(c("Stratcom").listen("m:ufi:sticker-comment",null,this.$42.bind(this)))};b.$43=function(a){return!!a&&d("MDOM").contains(this.$1,a)};b.$17=function(){var a=this;return c("debounceCore")(function(b){var d=b.getNode(p);if(!(d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement)||!a.$43(d))return;c("Stratcom").invoke("marauder-feedback-input",null,{draft:d.value});a.$15&&a.$15.logInitText();a.$20(b.getNode(l))},250)};b.$45=function(){this.$2.is_inline_reply&&c("MUFIInlineRepliesFunnelLogConfig").MUFIInlineReplyComposerFunnelLogger&&c("MUFIInlineRepliesFunnelLogConfig").MUFIInlineReplyComposerFunnelLogger.logReplySubmitted(this.$2.target_id)};b.$46=function(a){if(!a)return null;a=d("MParent").bySigil(a,m);a=a&&d("MDOM").scry(a,"*",l)[0];return a&&this.$43(a)?a:null};b.$47=function(){this.$2&&this.$2.target_id&&!this.$3&&w()&&(this.$3=new(c("MComposerLiveTypingController"))(this.$2.target_id,this.$2.parent_comment_id,this.$2.actor_id))};b.$44=function(){if(!w())return;this.$47();this.$3&&this.$3.attemptPublishStartEvent()};return a}();g["default"]=a}),98);
__d("MFeedAttributionOnClick",["MEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("MEvent").listen(a,"click",function(){})}function b(a){c("MEvent").listen(a,"click",function(){})}g.logExposureOnFb4aAttributionClick=a;g.logExposureOnFbliteAttributionClick=b}),98);
__d("MessengerMarketingHeader",["cx","Style","cr:6108"],(function(a,b,c,d,e,f,g,h){a=function(){a.create=function(b,c,d){return new a(b,c,d)};function a(a,b,c){var d=this;this.onScroll=function(){window.scrollY<d.top?(d.fixed&&d.toggleFixed(),d.toggleBgOpacity(!1,0)):(d.fixed||d.toggleFixed(),window.scrollY-d.top<d.fade?d.toggleBgOpacity(!1,(window.scrollY-d.top)/d.fade):d.bgShowing||d.toggleBgOpacity(!0,1))};this.root=a;this.bg=b;this.fade=60;this.top=c;this.fixed=!1;this.bgShowing=!1;i(window,"scroll",this.onScroll)}var d=a.prototype;d.toggleFixed=function(){this.fixed=!this.fixed,this.fixed?b("cr:6108").addClass(this.root,"_6a88"):b("cr:6108").removeClass(this.root,"_6a88")};d.toggleBgOpacity=function(a,b){this.bgShowing=a,c("Style").set(this.bg,"opacity",b)};return a}();function i(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}g["default"]=a}),98);
__d("MessengerMarketingLogMobileRedirect",["MEvent","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){try{if(window!=null&&window.outerWidth!=null&&window.outerWidth<768)return;var a=[document.getElementById("messenger_markerting_ios_button"),document.getElementById("messenger_markerting_android_button")];a.forEach(function(a){a!=null&&c("MEvent").listen(a,"click",function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"messenger_dot_com_marketing_redirect",a.id)})})}catch(a){}}g.logClicksToMobileRedirectButtons=a}),98);
__d("MessengerMarketingMobileMenu",["csx","cx","cr:5662","debounce"],(function(a,b,c,d,e,f,g,h){var i="._8otc",j="_8otd";e.exports={addHandlers:function(a){var c=a.querySelector(i);if(!c)return;a=k(a);b("cr:5662").listen(c,"click",a);b("cr:5662").listen(c,"touchstart",a)}};function k(a){return b("debounce")(function(){return a.classList.toggle(j)},300,!0)}}),null);