;/*FB_PKG_DELIM*/

__d("MActionBubbleHelper",["cx","MCSS","ODS","Stratcom"],(function(a,b,c,d,e,f,g,h){var i,j="enabled_action";function a(a,b,e,f){(i||(i=d("ODS"))).bumpEntityKey(2966,"rrsurfaces","action_bubble.toggle_action."+String(b)+"."+e+"."+f),c("MCSS").conditionClass(a,"_58a0",b),b?c("Stratcom").addSigil(a,j):c("Stratcom").removeSigil(a,j)}g.toggleActionBubbleItem=a}),98);
__d("MAdPreviewUnclickable",["CancelableEventListener","MDOM","MLegacyDataStore","MVector"],(function(a,b,c,d,e,f){var g="scroll-area";a=function(a){"use strict";this.$1=new h(a)};var h=function(){"use strict";function a(a){var c=b("MDOM").scry(a,"div",g)[0];if(!c)return;var d=b("MLegacyDataStore").get(c);if(d.direction!=="horizontal")return;this.$1=c;this.$2=d.scrollArea;this.$3=b("CancelableEventListener").listen(a,"touchstart",null,this.$4.bind(this))}var c=a.prototype;c.$4=function(a){this.$5();if(b("MDOM").contains(this.$1,a.getTarget()))return;var c=b("MVector").getElementPosition(this.$1),d=b("MVector").getElementDimensions(this.$1);d={bottom:c.y+d.y,left:c.x,right:c.x+d.x,top:c.y};c=a.getTouch();var e=c.pageX;c=c.pageY;if(e<d.left||e>d.right||c<d.top||c>d.bottom)return;this.$2.onTouchStart(a);e=document.documentElement;this.$6=[b("CancelableEventListener").listen(e,"touchmove",null,this.$7.bind(this)),b("MDOM").listen(e,"touchend",null,this.$8.bind(this)),b("MDOM").listen(e,"touchcancel",null,this.$8.bind(this))]};c.$7=function(a){this.$2.onTouchMove(a)};c.$8=function(a){this.$2.onTouchEnd(a),this.$5()};c.$5=function(){this.$6&&(this.$6.forEach(function(a){a.remove()}),this.$6=null)};return a}();e.exports=a}),null);
__d("MAnimatedScroll",["MAnimator","MVector","MViewport","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=500;function j(a){a&&c("clearTimeout")(a);return null}function k(a,b,e){h=j(h);b=b.duration==null?i:b.duration;var f=d("MViewport").getScrollTop();if(f===a)return;var g=f;c("MAnimator").play(f,a,b,function(b){var e=c("MAnimator").easeInOutCubic((b-g)/(f-a));e=Math.round((b-g)*e+g);g=b;d("MViewport").scrollToY(e)});e&&(h=c("setTimeoutAcrossTransitions")(e,b))}function a(a,b){k(0,a,b)}function b(a,b,c,e){k(d("MVector").getPos(a).y-b,c,e)}g.scrollToOffset=k;g.scrollToTop=a;g.scrollToNode=b}),98);
__d("MCommentActionsFlyout",["cx","Bootloader","MActionBubbleHelper","MCSS","MDOM","MLegacyDataStore","MModalDialog","MParent","MRequest","Stratcom","URI"],(function(a,b,c,d,e,f,g,h){var i,j="ban_user_from_page_comment_sigil",k="editCommentSigil",l="editHistoryCommentSigil",m="deleteCommentSigil",n="deleteCommentAndBlockAuthorSigil",o="deleteCommentAndRemoveAuthorSigil",p="hideCommentSigil",q="muteMemberSigil",r="reportCommentSigil",s="commentFlyoutSigil",t="removeTagSigil",u=!1;function v(a,b,c){a=d("MDOM").find(a,"*",b);d("MActionBubbleHelper").toggleActionBubbleItem(a,c,"MCommentActionsFlyout",b)}function w(a,b,e){var f=d("MDOM").find(a,"*",b),g=!!e.groupMuteCommenterInfo;d("MActionBubbleHelper").toggleActionBubbleItem(f,g,"MCommentActionsFlyout",b);if(g&&b===q){f=d("MDOM").scry(a,"*",b)[0];c("MCSS").conditionClass(f,"_4ob2",!e.groupMuteCommenterInfo.is_commenter_muted)}}function x(a){a=d("MParent").bySigil(a,"comment-metadata");return a}function y(a,b){b=d("MLegacyDataStore").get(b);a.addQueryData("_ft_",b.linkdata)}function z(a,b){y(b,a);a=new(c("MRequest"))(b);a.send()}function A(a,b,c){d("MModalDialog").open(b,c)}function B(){var a=x(this.getCausalElement()),b=this.getRoot();if(a==null)return;a=d("MLegacyDataStore").get(a);v(b,k,!!a.editCommentURI);v(b,l,!!a.editHistoryCommentURI);v(b,m,!!a.deleteCommentURI);v(b,n,!!a.deleteCommentAndBlockAuthorURI);v(b,o,!!a.deleteCommentAndRemoveAuthorURI);v(b,p,!!a.hideCommentURI);w(b,q,a);v(b,r,!!a.reportCommentURI);v(b,j,!!a.banUserFromPageURIParams&&!u);v(b,t,!!a.removeTagURI&&C())}function C(){return!1}function D(a){var b=d("MLegacyDataStore").get(a.getNode(s)),e=x(b.layer.getCausalElement());if(e==null)return;var f=d("MLegacyDataStore").get(e);if(a.getNode(k))z(e,new(i||(i=c("URI")))(f.editCommentURI));else if(a.getNode(l))z(e,new(i||(i=c("URI")))(f.editHistoryCommentURI));else if(a.getNode(m))z(e,new(i||(i=c("URI")))(f.deleteCommentURI));else if(a.getNode(n))z(e,new(i||(i=c("URI")))(f.deleteCommentAndBlockAuthorURI));else if(a.getNode(o))z(e,new(i||(i=c("URI")))(f.deleteCommentAndRemoveAuthorURI));else if(a.getNode(t))z(e,new(i||(i=c("URI")))(f.removeTagURI));else if(a.getNode(p))z(e,new(i||(i=c("URI")))(f.hideCommentURI));else if(a.getNode(q))z(e,new(i||(i=c("URI")))(f.groupMuteCommenterInfo.URI));else if(a.getNode(r)){var g=new(i||(i=c("URI")))(f.reportCommentURI);f.reportIsModalDialog?A(e,g):z(e,g)}else a.getNode(j)&&(f.banUserFromPageURIParams&&c("Bootloader").loadModules(["MPagesBanUserUtils"],function(a){a.banUserFromPage(f.banUserFromPageURIParams.pageID,f.banUserFromPageURIParams.userID,f.banUserFromPageURIParams.userName,function(){u=!0})},"MCommentActionsFlyout"));b.layer.hide();a.kill()}var E,F;function a(a){if(E)return;E=a;var b=a.getRoot();c("Stratcom").addSigil(b,s);F=[c("Stratcom").listen("m:page:unload",null,function(){while(F.length>0)F.pop().remove();E=null}),a.addListener("beforeshow",B,a),d("MDOM").listen(b,"click",null,D)]}g.registerFlyout=a}),98);
__d("MFRXWebFunnelLogger",[],(function(a,b,c,d,e,f){a={attachClickLogging:function(a,b,c,d,e){},removeStratcomListeners:function(){},attachStratcomClickLogging:function(a,b,c,d,e){},logEvent:function(a,b,c,d){}};e.exports=a}),null);
__d("MReactionsBlingBar",["cx","fbt","FeedbackReactionIDToTypeNumber","MLiveData","MViewport","Stratcom","SubscriptionsHandler","UFIReactionIcons","UFIReactionTypes","URI","createIxElement","joinClasses"],(function(a,b,c,d,e,f,g,h){var i;b("UFIReactionTypes").ordering.unshift(17);var j=b("UFIReactionTypes").ordering.reduce(function(a,b,c){a[b]=c;return a},{}),k=function(){"use strict";function a(a){var c=this;this.onChange=function(){var a=c.feedbackTarget.getData(),d=a.reactioncountmap,e=a.reactioncountmapbyid,f=a.reactiondisplaystrategy,g=a.request_id,i=a.ufireactioniconsbyid;f=f==="use_reaction_sheet_string_only"||f==="hide_counts";if(g===c.requestID||!d)return;g=Object.keys(e).filter(function(a){a=e[a];return a&&a["default"]>0}).sort(function(a,c){var d=e[a]["default"],f=e[c]["default"];return d===f?j[b("FeedbackReactionIDToTypeNumber")(a)]-j[b("FeedbackReactionIDToTypeNumber")(c)]:f-d}).slice(0,3).map(function(a,c){var d=document.createElement("div");d.className=b("joinClasses")("_1g05","_77lc");d.style.zIndex=3-c;b("FeedbackReactionIDToTypeNumber")(a)===17?d.appendChild(b("createIxElement")(i[a][16])):d.appendChild(b("createIxElement")(b("UFIReactionIcons")[b("FeedbackReactionIDToTypeNumber")(a)][16]));return d});d=g.reduce(function(a,b){a.appendChild(b);return a},document.createElement("span"));d.className="_qfz";g=document.createElement("div");g.className="_1w1k"+(f?" _8l2a":"");g.appendChild(d);d=a.comment_count;var k=a.share_count,l=a.reactionsentences.current&&a.reactionsentences.current.text,m=document.createElement("div");m.className="_1g06";m.setAttribute("aria-label",h._("{count} \u0111\u00e3 b\u00e0y t\u1ecf c\u1ea3m x\u00fac",[h._param("count",l)]));m.textContent=l;if(c.isDarkMode){var n=document.createElement("a");n.href=c.darkModeLinks.likesLink;n.className="_8gqh";n.appendChild(m);g.appendChild(n)}else g.appendChild(m);n=c.container;m=document.createElement("div");m.className="_1fnt"+(f?" _8l2b":"");if(c.isDarkMode){f=document.createElement("a");f.className="_8gqh _1fnt";f.href=c.darkModeLinks.commentsLink;m=m.appendChild(f)}if(!c.isPermalink){if(d>0){f=document.createElement("span");f.className="_1j-c";f.textContent=d===1?h._("1 b\u00ecnh lu\u1eadn"):h._("{count} b\u00ecnh lu\u1eadn",[h._param("count",a.reduced_comment_count)]);if(c.separateCommentsLink){var o=document.createElement("a");c.uri.addQueryData("anchor_composer","true");o.href=c.uri;o.appendChild(f);m.appendChild(o)}else m.appendChild(f)}if(k>0){o=document.createElement("span");o.className="_1j-c";o.textContent=k===1?h._("1 l\u01b0\u1ee3t chia s\u1ebb"):h._("{count} l\u01b0\u1ee3t chia s\u1ebb",[h._param("count",a.reduced_share_count)]);m.appendChild(o)}}while(n.hasChildNodes())n.removeChild(n.firstChild);if(l||d||k){f=document.createDocumentFragment();f.appendChild(g);f.appendChild(m);n.appendChild(f)}};var d=a.elements;this.container=d.container;this.isPermalink=a.isPermalink;this.requestID=a.requestID;this.uri=new(i||(i=b("URI")))(a.uri);this.shouldAnchor=a.shouldAnchor;this.feedbackTarget=b("MLiveData").get(a.feedbackTargetID);this.isDarkMode=a.isDarkMode;this.darkModeLinks=a.darkModeLinks;this.subscriptions=new(b("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(b("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)),this.feedbackTarget.listen("change",this.onChange.bind(this)));this.isPermalink&&this.shouldAnchor&&(a.isPageletified?this.anchorOnPageLoad():(this.pageLoadListener=b("Stratcom").listen(["m:page:render:complete"],null,this.anchorOnPageLoad.bind(this)),this.subscriptions.addSubscriptions(this.pageLoadListener)))}var c=a.prototype;c.onUnload=function(){this.subscriptions.release(),this.subscriptions=null};c.anchorOnPageLoad=function(){b("MViewport").scrollToNode(this.container)};return a}();e.exports={init:function(a){new k(a)}}}),130);
__d("MSaveState",[],(function(a,b,c,d,e,f){a="saving";b="saved";c="unsaving";d="unsaved";f.SAVING=a;f.SAVED=b;f.UNSAVING=c;f.UNSAVED=d}),66);
__d("MSaveStateHandler",["MSaveState"],(function(a,b,c,d,e,f,g){var h=null;a=function(){function a(){this.$1={},this.$2={}}var b=a.prototype;b.addListener=function(a,b){this.$1[a]||(this.$1[a]=[]),this.$1[a].push(b)};b.setState=function(a,b){var c=this;a.forEach(function(a){c.$2[a]=b;if(!c.$1[a])return;a=c.$1[a];a.forEach(function(a){try{a.call(window,b)}catch(a){}})})};b.getState=function(a){return this.$2[a]};a.$3=function(){h||(h=new a());return h};a.listen=function(a,b){this.$3().addListener(a,b)};a.getState=function(a){return this.$3().getState(a)};a.saving=function(a){this.$3().setState(a,d("MSaveState").SAVING)};a.saved=function(a){this.$3().setState(a,d("MSaveState").SAVED)};a.unsaving=function(a){this.$3().setState(a,d("MSaveState").UNSAVING)};a.unsaved=function(a){this.$3().setState(a,d("MSaveState").UNSAVED)};a.isSaveAction=function(a){a=this.$3().getState(a);return a==d("MSaveState").UNSAVED||a==d("MSaveState").UNSAVING};a.isInTransition=function(a){a=this.$3().getState(a);return a==d("MSaveState").SAVING||a==d("MSaveState").UNSAVING};return a}();g["default"]=a}),98);
__d("MShareAngoraAttachment",["Stratcom"],(function(a,b,c,d,e,f){var g=!1;a=function(a){if(g)return;g=!0;window.addEventListener("error",function(a){if(a.target.nodeName=="IMG"){for(a=a.target;a!=document.body&&!b("Stratcom").hasSigil(a,"shareAngoraAttachmentMedia");a=a.parentNode);a!=document.body&&(a.style.display="none")}},!0)};f.registerDeadImageListener=a}),null);
__d("prefetchImage",[],(function(a,b,c,d,e,f){function a(a,b){var c=!0,d=new Image();d.onload=function(){c=!1,b&&b()};d.src=a;return{cancel:function(){if(!c)return;c=!1;d.onload=null;d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}}}f["default"]=a}),66);